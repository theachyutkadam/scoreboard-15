<div class="container-fluid">
  <div class="card-body">
    <div class="card">
      <div class="card-body">
        <form [formGroup]="match_form" class="form-floating" (ngSubmit)="saveMatches()">
          <button type="submit" class="btn btn-sm btn-warning float-end" (click)="resert()">Reset</button>
          <button type="submit" class="btn btn-sm btn-primary float-end" style="margin-right: 10px;" [disabled]="match_form.invalid">Submit</button>
          <h5 class="card-title fw-semibold mb-4">{{form_type}} Match</h5>
          <div class="row">
            <div class="col-sm mb-3">
              <label for="team1" class="form-label">Team1</label>
              <select class="form-select" formControlName="team1">
                <option selected>Select Team1</option>
                <option *ngFor="let team of teams" [value]="team.id">{{team.name | titlecase}} - {{team.city | titlecase}}</option>
              </select>
              <div *ngIf="match_form.get('team1')?.touched && match_form.get('team1')?.invalid">
                <small *ngIf="match_form.get('team1')?.errors?.['required']" class="error-message">
                  Team1 is required.
                </small>
                <!-- <small class="error-message" *ngIf="match_form.get('team1')?.errors?.['required']">
                  Team1 is required.
                </small> -->
              </div>
            </div>
            <div class="col-sm mb-3">
              <label for="team2" class="form-label">Team2</label>
              <select class="form-select" formControlName="team2">
                <option selected>Select Team2</option>
                <option *ngFor="let team of teams" [value]="team.id">{{team.name | titlecase}} - {{team.city | titlecase}}</option>
              </select>
            </div>
            <div class="col-sm mb-3">
              <label for="toss_winer_team" class="form-label">Toss Winner Team</label>
              <select class="form-select" formControlName="toss_winer_team">
                <option selected>Select Toss Winner Team</option>
                <option *ngFor="let team of teams" [value]="team.id">{{team.name | titlecase}} - {{team.city | titlecase}}</option>
              </select>
            </div>
            <div class="col-sm mb-3">
              <label for="toss_dicision" class="form-label">Toss Dicission</label>
              <select class="form-select" formControlName="toss_dicision">
                <option selected>Select Toss Dicision</option>
                <option value="bating">Bating</option>
                <option value="filding">Filding</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-sm mb-3">
              <label for="start_at" class="form-label">Match Start Time</label>
              <input type="datetime-local" class="form-control" formControlName="start_at">
            </div>
            <div class="col-sm mb-3">
              <label for="end_at" class="form-label">Match End Time</label>
              <input type="datetime-local" class="form-control" formControlName="end_at">
            </div>
            <div class="col-sm mb-3">
              <label for="number_of_overs" class="form-label">Number Of Overs</label>
              <select class="form-select" formControlName="number_of_overs">
                <option selected>Select Overs</option>
                <option value="3">3 Overs</option>
                <option value="5">5 Overs</option>
                <option value="7">7 Overs</option>
                <option value="10">10 Overs</option>
                <option value="15">15 Overs</option>
                <option value="20">20 Overs</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-sm mb-3">
              <input type="checkbox" class="form-check-input" formControlName="is_draw" id="is_draw">
              <label class="form-label" for="is_draw">Is Draw ?</label>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<div class="table-responsive">
  <div id="alt_pagination_wrapper" class="dataTables_wrapper">
    <h4><strong> Matches </strong></h4>
    <table id="alt_pagination" class="table table-striped table-bordered display text-nowrap dataTable"
    aria-describedby="alt_pagination_info">
      <thead>
        <tr>
          <th>Match</th>
          <th>No.Of.Overs</th>
          <th>Start At</th>
          <th>End At</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let match of matches">
          <td>{{match.team1.name +'-'+ match.team1.city | titlecase}} VS {{match.team2.name +'-'+ match.team2.city | titlecase}}</td>
          <td>{{match.number_of_overs}} Overs</td>
          <td>{{match.start_at | date: 'MMM d, y, h:mm:ss a'}}</td>
          <td>{{match.end_at ?? '-' }}</td>
          <td>{{match.status | titlecase}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
